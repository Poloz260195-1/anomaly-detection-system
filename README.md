# üö® –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π –≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö

–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–Ω–∞–ª–∏–∑ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞—Å—Ç—É—â–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- **–£–º–Ω—ã–π –∫—É–ª–¥–∞—É–Ω** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞ –∞–ª–µ—Ä—Ç–æ–≤
- **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **Airflow –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
git clone https://github.com/your-username/anomaly-detection-system.git
cd anomaly-detection-system
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env_example.txt`:
```bash
cp env_example.txt .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

### 3. –ó–∞–ø—É—Å–∫
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python found_alert_with_cooldown_new.py

# –ß–µ—Ä–µ–∑ Airflow
airflow dags trigger aleksej_polozov_bel8894_alerts_report_with_cooldown
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

### –õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä—ã –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - `views_per_user`
- **–õ–∞–π–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - `likes_per_user`
- **CTR** - Click-Through Rate

### –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä:
- **–°–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - `messages_per_user`

## üîç –ê–ª–≥–æ—Ä–∏—Ç–º

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** –∏–∑ ClickHouse –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 14 –¥–Ω–µ–π
2. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º –Ω–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥
4. **–ê–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π** - –≤—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π > 30%
5. **–û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤** –≤ Telegram —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏

## üìà –ü—Ä–∏–º–µ—Ä –∞–ª–µ—Ä—Ç–∞

```
üî¥ –ê–ù–û–ú–ê–õ–ò–Ø –û–ë–ù–ê–†–£–ñ–ï–ù–ê

–ú–µ—Ç—Ä–∏–∫–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä—ã –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: üìâ –£–ú–ï–ù–¨–®–ï–ù–ò–ï
–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 8.5
–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: -35.2%
–í—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: 2025-01-20 14:30

–°–ª–µ–¥—É—é—â–∏–π –∞–ª–µ—Ä—Ç –¥–ª—è —ç—Ç–æ–π –º–µ—Ç—Ä–∏–∫–∏ –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–µ–Ω —á–µ—Ä–µ–∑ 4 —á–∞—Å–∞
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–¥–µ:
```python
ANOMALY_THRESHOLD = 0.3      # 30% –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
COOLDOWN_HOURS = 4           # –ß–∞—Å—ã –º–µ–∂–¥—É –∞–ª–µ—Ä—Ç–∞–º–∏
MAX_ALERTS_PER_DAY = 6       # –ú–∞–∫—Å–∏–º—É–º –∞–ª–µ—Ä—Ç–æ–≤ –≤ –¥–µ–Ω—å
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã
- ‚è≥ –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ (–∫—É–ª–¥–∞—É–Ω)
- ‚ùå –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–ê–ª–µ–∫—Å–µ–π –ü–æ–ª–æ–∑–æ–≤**
- GitHub: [@aleksej-polozov-bel8894](https://github.com/aleksej-polozov-bel8894)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 